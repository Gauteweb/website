<!DOCTYPE html>
<html lang="no">
<head>
    <title>Gauteweb.net -> Lag en Feedly-Bot</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Le Chat and Visual Studio Code">
    <link rel="icon" href="/images/gauteweb_head.png" sizes="any">
    <link href="https://fonts.googleapis.com/css2?family=Kode+Mono:wght@400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="terminalstyle.css" />
    <link href="https://mikrobloggen.no/@gauteweb" rel="me">

    <!--SEO-->
    <meta name="author" content="Gaute Holmin" >
    <meta name="fediverse:creator" content="@gauteweb@mikrobloggen.no">
    <meta name="description" content="Her er en guide for hvordan du kan lage en Mastodon bot som henter data fra Feedly på din instans.">

    <!-- Open Graph -->
    <meta property="og:title" content="Hvordan lage en Feedly Bot til Mastodon?" />
    <meta property="og:description" content="Her er en guide for hvordan du kan lage en Mastodon bot som henter data fra Feedly på din instans." />
    <meta property="og:image" content="https://gauteweb.net/images/bot_talerstol.jpg" />
    <meta property="og:url" content="https://gauteweb.net/feedlybot.html" />
    <meta property="og:author_name" content="Gaute Holmin">
    <meta property="og:author_url" content="https://mikrobloggen.no/@gauteweb">

    <!-- Grafana Frontend O11y -->
    <script>
  (function () {
    var webSdkScript = document.createElement("script");

    // fetch the latest 1.x.x version of the Web-SDK from the CDN
    webSdkScript.src =
      "https://unpkg.com/@grafana/faro-web-sdk@1/dist/bundle/faro-web-sdk.iife.js";

    webSdkScript.onload = () => {
      window.GrafanaFaroWebSdk.initializeFaro({
        url: "https://faro-collector-prod-eu-north-0.grafana.net/collect/586de9c9aadd2a69416bd666304a222f",
        app: {
          name: "Gauteweb.net",
          version: "1.0.0",
          environment: "production",
        },
        
      });


      // Load instrumentations at the onLoad event of the web-SDK and after the above configuration.
      // This is important because we need to ensure that the Web-SDK has been loaded and initialized before we add further instruments!
      var webTracingScript = document.createElement("script");

      // fetch the latest 1.x.x version of the Web Tracing package from the CDN
      webTracingScript.src =
        "https://unpkg.com/@grafana/faro-web-tracing@1/dist/bundle/faro-web-tracing.iife.js";

      // Initialize, configure (if necessary) and add the the new instrumentation to the already loaded and configured Web-SDK.
      webTracingScript.onload = () => {
        window.GrafanaFaroWebSdk.faro.instrumentations.add(
          new window.GrafanaFaroWebTracing.TracingInstrumentation()
        );
      };

      // Append the Web Tracing script script tag to the HTML page
      document.head.appendChild(webTracingScript);
    };

    // Append the Web-SDK script script tag to the HTML page
    document.head.appendChild(webSdkScript);
  })();
</script>

</head>
<body>

<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <div class="container">
        <header>
            <div id="navigasjon"></div>

            <script>
                fetch('navigasjon.shtml')
                    .then(response => response.text())
                    .then(data => {
                        document.getElementById('navigasjon').innerHTML = data;
                    });
            </script>
        </header>
      
        <main>
            <section>
                <h2>Hvordan lage en Bot med Feedly og IFTTT til Mastodon?</h2>
                <p>Feedly har en offisiell integrasjon med IFTTT, så ved å utnytte IFTTT sin standard webhook-funksjon mot Mastodon så kan du lage mange spennende bot'er, eller automatiske postinger til din egen konto for den sakens skyld.</p>

                <img src="/images/bot_talerstol.jpg" alt="Tegning av en androide som står og leser høyt fra en avis">
                

                <p><br />Her har jeg laget en en guide som viser hvordan jeg har satt opp mine bot'er på Mikrobloggen.<p>

                <h2>Steg 1: Forarbeid i Feedly og IFTTT</h2>
                <p>Du må samle RSS-strømmene du ønsker å hente statuser fra i en kategori i Feedly. Du trenger også å ha kjøpt Feedly Pro for å få støtte for IFTTT integrasjonen og du må ha et IFTTT Pro abonnement (trenger ikke Pro+).</p>

                <h2>Steg 2: Lag en mastodon app</h2>
                <p>Først oppretter du en vanlig Mastodon-bruker på den instansen du vil kjøre bot’en fra (sjekk at det er lov med Bot’er på instansen først). Så under instillinger, profil og annet så huker du av for at det er en automatisert konto:</p>
                <img src="images/Automatisert_konto.png" alt="skjermbilde">
                
                <p>Dette gjør ingenting annet enn å vise følgere at dette er en Bot, ikke en vanlig bruker.</p>

                <p>Jeg liker også å sette opp automatisk sletting av innlegg, ingen grunn til å fylle opp databasen med utdaterte innlegg. Her er hvordan jeg har satt det opp:</p>
                <img src="images/Auto_slett.png"  alt="skjermbilde">

                <p>Nå må du lage en tilgangsnøkkel for IFTTT. Dette gjør du ganske enkelt ved å gå på innstillinger og «utvikling». Lag en app, du trenger ikke gjøre noe annet enn å gi den ett navn og kopiere din Acccess Token:</p>
                <img src="images/Masto_App.png" alt="skjermbilde">


                <h2>Steg 1: IFTTT oppsett</h2>
                <p>Det er nå det morsomme begynner, å bygge en «applet» i IFTTT. Du ønsker å bruke Feedly og "New article from category" som IF og en «Webhook» som THEN.</p> 
                
                <p>Legg inn URL’en du lagde i steg 2 som feed URL og nøkkelen du hentet ut i steg 1 i «Additional Headers», etter «Authorization: Bearer » (du må skrive inn dette selv).</p>

                <img src="/images/feedly_IFTTT_Mastodon.jpg" alt="skjermbilder fra IFTTT">

                <p>Så utformer du selve «Body» teksten akkurat sånn du vil. Dette er det som kommer som innleggstekst på Mastodon. Her kan du kun ha ren tekst og eventuelle custom emojies (som jeg har i eksempelt ved :oslo:). Pass på å ha <<<foran og bak>>> eventuell ren tekst du ønsker å legge til.</p>
                
                <h2>Ferdig resultat</h2>
                <p>På <a href="mikrobloggen.html">Mikrobloggen</a> har jeg for tiden flere forskjellige bot'er som henter data fra Feedly.</p> 
                
                <p>Her er et par eksempler:</p>

                <p><a href="https://mikrobloggen.no/@nyheter">Avisrunden</a></p>
                <img src="/images/nyheter_bot.jpg" alt="avataren til Avisrunden">

                <p>Denne bot'en henter meningsbærende nyheter fra norske nettaviser men uten de mest tabloide sakene, samlet i en feed. Vi snakker altså ikke en flom av "siste nytt", men kommentarer, kronikker og lignende. Samt innhold fra noen litt mindre nettaviser. </p>

                <p><a href="https://mikrobloggen.no/@stortinget">Stortinget</a></p>
                <img src="/images/stortinget_bot.jpg" alt="avataren til Stortinget">

                <p>Stortinget og regjeringen er ekstremt gode på RSS-feeds. Derfor har jeg kunnet velte meg i forskjellige RSS-kombinasjoner og endt opp med en Bot som poster alle nye lov-vedtak, stortings-vedtak, skriftlige svar på interpellasjoner, pressemeldinger fra stortinget samt svar fra regjeringen på spørsmål fra stortingsrepresentanter.</p>
                

                <p><a href="fediverse.html">Tilbake...</a></p>
            </section>
        </main>
        
        <footer>
            <p>&copy; <a href="https://mikrobloggen.no/@gauteweb">Gaute Holmin</a></p>
        </footer>
    </div>
</body>
</html>
